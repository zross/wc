<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
    <meta name="generator" content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <meta charset="utf-8" />
    <title>My AngularJS App</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/leaflet.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" type="text/css" href="http://cloud.github.com/downloads/lafeber/world-flags-sprite/flags32.css" />
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://d3js.org/d3.v3.min.js"></script>

    <script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>

</head>

<body ng-controller="DemoController">

<div class="container">



    <!--     <div class="info box">Map center: [ lat: {{ center.lat | number:4 }}, lng: {{ center.lng | number:4 }} ]</div> -->

    <leaflet center="center" events="events" legend="legend" geojson="geojson"></leaflet>

    <hr>
<div class="container">
    <div class="row">


        <div class="info country f32">
            <div ng-show="geojson.selected" class="flag" ng-class="geojson.selected.properties.ISO2|lowercase"></div>
            {{ geojson.selected.properties.NAME || 'No country'}}
        </div>
    </div>
 <hr>
<div class="col-md-8 col-md-offset-2">
    <div class="row">
        Search:
        <input ng-model="query">

<hr>

    <table class='table table-bordered table-striped'>
        <thead>
            <tr class="foot">
                <th><a href="" ng-click="orderByField = 'country'; reverse=!reverse">Country</a>
                </th>
                <th><a href="" ng-click="orderByField = 'fifarank'; reverse=!reverse">FIFA Rank</a>
                </th>
                <th><a href="" ng-click="orderByField = 'spirank'; reverse=!reverse">ESPN SPI</a></th>
                <th><a href="" ng-click="orderByField = 'fifaspidiff'; reverse=!reverse">FIFA-SPI</a></th>
                <th><a href="" ng-click="orderByField = 'fifaspiavg'; reverse=!reverse">AVG FIFA-SPI</a></th>
                <th><a href="" ng-click="orderByField = 'attack'; reverse=!reverse">Attack Rating</a></th>
                <th><a href="" ng-click="orderByField = 'defense'; reverse=!reverse">Defense Rating</a></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="foot in football|orderBy:orderByField:reverse">
                <td>{{foot.country}}</td>
                <td>{{foot.fifarank}}</td>
                <td>{{foot.spirank}}</td>
                <td>{{foot.fifaspidiff}}</td>
                <td>{{foot.fifaspiavg}}</td>
                <td>{{foot.attack}}</td>
                <td>{{foot.spirank}}</td>

            </tr>
        </tbody>
    </table>
    </div>
</div>
    </div>
 </div>
</body>

<!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
-->

<script>
// var map = new L.Map("map2", {center: [37.8, -96.9], zoom: 4})
//     .addLayer(new L.TileLayer("http://{s}.tiles.mapbox.com/v3/examples.map-vyofok3q/{z}/{x}/{y}.png"));
// var svg = d3.select(map.getPanes().overlayPane).append("svg"),
//     g = svg.append("g").attr("class", "leaflet-zoom-hide");

// d3.json("data/countriespt2.geojson", function(collection) {
//   console.log(collection)
//   var transform = d3.geo.transform({point: projectPoint}),
//       path = d3.geo.path().projection(transform);

//   var feature = g.selectAll("path")
//       .data(collection.features)
//       .enter()
//       .append("path")
//       .attr('cx', 50)
//       .attr('cy', 50)
//       .attr("fill", "yellow")
//       .attr("r", 50);


//   map.on("viewreset", reset);
//   reset();

//   // Reposition the SVG to cover the features.
//   function reset() {
//     var bounds = path.bounds(collection),
//         topLeft = bounds[0],
//         bottomRight = bounds[1];

//     svg .attr("width", bottomRight[0] - topLeft[0])
//         .attr("height", bottomRight[1] - topLeft[1])
//         .style("left", topLeft[0] + "px")
//         .style("top", topLeft[1] + "px");

//     g   .attr("transform", "translate(" + -topLeft[0] + "," + -topLeft[1] + ")");

//     feature.attr("d", path);
//   }

//   // Use Leaflet to implement a D3 geometric transformation.
//   function projectPoint(x, y) {
//     var point = map.latLngToLayerPoint(new L.LatLng(y, x));
//     this.stream.point(point.x, point.y);
//   }
// });
</script>

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="lib/angular/angular.js"></script>
<script src="lib/angular/angular-route.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>
<script src="lib/angular-leaflet-directive.js"></script>
<script src="js/app.js"></script>

<script src="js/controllers/controllers.js"></script>

<script src="js/services/services.js"></script>
<script src="js/filters/filters.js"></script>
<script src="lib/bootstrap.min.js"></script>
</body>

</html>

<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
    <meta name="generator" content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <meta charset="utf-8" />
    <title>World Football Ranks</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/leaflet.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="http://cloud.github.com/downloads/lafeber/world-flags-sprite/flags32.css" />
     <script src="http://maps.google.com/maps/api/js?v=3.2&sensor=false"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/app.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>

</head>

<body ng-controller="DemoController">


    <div class="container">
          <div class="row">
            <h1>World Football Ranks</h1>
        </div>

        <div ng-controller='GoogleMapsController'>
        <!-- <leaflet center="center" events="events" legend="legend" geojson="geojson" width='100%' height='600'></leaflet> -->

        <leaflet center="world" events="events" legend="legend"  width='100%' height='400' layers='layers' geojson="geojson" ></leaflet>
</div>

  <hr>

        <div class="info country f32">
            <div ng-show="geojson.selected" class="flag" ng-class="geojson.selected.properties.ISO2|lowercase"></div>
            <span ng-cloak>{{ geojson.selected.properties.NAME ?  geojson.selected.properties.NAME + ' &#8212; FIFA Rank: ' + footballObject[geojson.selected.properties.ISO3].fifarank :  'Select country on map'}}</span>
        </div>

        <hr>
        <!--     <div class="info box">Map center: [ lat: {{ center.lat | number:4 }}, lng: {{ center.lng | number:4 }} ]</div> -->


        <div class="col-md-10 col-md-offset-1">
            <div class="row well">
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <label for="search" class="col-sm-6 control-label">Filter by Country</label>
                        <input ng-model="search.country">
                    </div>
                    <div class="form-group">
                        <label class="col-sm-6 control-label">Filter by World Cup Group</label>
                        <select class="selectpicker" ng-model='search.Group'  ng-options="city.Group as city.Group for city in football | unique:'Group' | orderBy:'Group'" fix>
                        <option value="" selected="selected">-- All Groups --</option>
                        </select>
                    </div>

                </form>
            </div>
            <hr>
            <div class="row">
                <table class='table table-striped full'>
                    <thead>
                        <tr class="foot">
                            <th><a href="" ng-click="orderByField = 'country'; reverse=!reverse">Country</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'fifarank'; reverse=!reverse">FIFA Rank</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'spirank'; reverse=!reverse">ESPN SPI</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'fifaspidiff'; reverse=!reverse">FIFA-SPI</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'fifaspiavg'; reverse=!reverse">AVG FIFA-SPI</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'attack'; reverse=!reverse">Attack Rating</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'defense'; reverse=!reverse">Defense Rating</a>
                            </th>
                            <th><a href="" ng-click="orderByField = 'Group'; reverse=!reverse">Group</a>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="foot in football | orderBy:orderByField:reverse | filter:search">
                            <td class='country'>{{foot.country}}</td>
                            <td>{{foot.fifarank}}</td>
                            <td>{{foot.spirank}}</td>
                            <td>{{foot.fifaspidiff}}</td>
                            <td>{{foot.fifaspiavg}}</td>
                            <td>{{foot.attack}}</td>
                            <td>{{foot.spirank}}</td>
                            <td>{{foot.Group}}</td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</body>

<!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
-->

<script>
</script>

<script src="lib/angular/angular.js"></script>
<script src="lib/angular/angular-route.js"></script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>
<!-- <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui/0.4.0/angular-ui.min.js"></script> -->
<script src="lib/angular-leaflet-directive.js"></script>
<script src="js/app.js"></script>

<script src="js/controllers/controllers.js"></script>
<script src="js/directives/directives.js"></script>
<script src="js/services/services.js"></script>
<script src="js/filters/filters.js"></script>
<script src="lib/bootstrap.min.js"></script>
<script src="lib/Google.js"></script>
</body>

</html>
